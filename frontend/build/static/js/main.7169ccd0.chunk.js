(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,r){},142:function(e,t,r){},143:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(29),s=r.n(a),c=r(5),o=r(62),i=r(96),l=r(97),u=r(14),j="USER_REGISTER_REQUEST",d="USER_REGISTER_SUCCESS",p="USER_REGISTER_FAIL",b="USER_REGISTER_RESET",O="USER_LOGIN_REQUEST",h="USER_LOGIN_SUCCESS",m="USER_LOGIN_FAIL",x="USER_LOGIN_RESET",f="USER_DETAILS_REQUEST",g="USER_DETAILS_SUCCESS",y="USER_DETAILS_FAIL",v="USER_DETAILS_RESET",E="USER_DETAILS_UPDATE_REQUEST",S="USER_DETAILS_UPDATE_SUCCESS",k="USER_DETAILS_UPDATE_FAIL",_="USER_DETAILS_UPDATE_RESET",C="USER_FOLLOWING_REQUEST",T="USER_FOLLOWING_SUCCESS",w="USER_FOLLOWING_FAIL",N="USER_FOLLOWING_RESET",L="USER_FOLLOWERS_REQUEST",I="USER_FOLLOWERS_SUCCESS",R="USER_FOLLOWERS_FAIL",A="USER_FOLLOWERS_RESET",P="USER_SEARCH_REQUEST",D="USER_SEARCH_SUCCESS",U="USER_SEARCH_FAIL",F="USER_SEARCH_RESET",M="USER_OTHER_REQUEST",B="USER_OTHER_SUCCESS",G="USER_OTHER_FAIL",z="USER_OTHER_RESET",K="USER_FOLLOW_REQUEST",Y="USER_FOLLOW_SUCCESS",Q="USER_FOLLOW_FAIL",H="USER_FOLLOW_RESET",W="USER_DEACTIVATE_REQUEST",J="USER_DEACTIVATE_SUCCESS",V="USER_DEACTIVATE_FAIL",q="USER_DEACTIVATE_RESET",X="MY_POSTS_REQUEST",Z="MY_POSTS_SUCCESS",$="MY_POSTS_FAIL",ee="MY_POSTS_RESET",te="POST_LIKE_REQUEST",re="POST_LIKE_SUCCESS",ne="POST_LIKE_FAIL",ae="POST_LIKE_RESET",se="POST_BOOKMARK_REQUEST",ce="POST_BOOKMARK_SUCCESS",oe="POST_BOOKMARK_FAIL",ie="POST_BOOKMARK_RESET",le="LIKED_POSTS_REQUEST",ue="LIKED_POSTS_SUCCESS",je="LIKED_POSTS_FAIL",de="LIKED_POSTS_RESET",pe="BOOKMARKED_POSTS_REQUEST",be="BOOKMARKED_POSTS_SUCCESS",Oe="BOOKMARKED_POSTS_FAIL",he="BOOKMARKED_POSTS_RESET",me="MEDIA_POSTS_REQUEST",xe="MEDIA_POSTS_SUCCESS",fe="MEDIA_POSTS_FAIL",ge="MEDIA_POSTS_RESET",ye="TIMELINE_POSTS_REQUEST",ve="TIMELINE_POSTS_SUCCESS",Ee="TIMELINE_POSTS_FAIL",Se="TIMELINE_POSTS_RESET",ke="POST_REQUEST",_e="POST_SUCCESS",Ce="POST_FAIL",Te="POST_RESET",we="POST_DETAILS_REQUEST",Ne="POST_DETAILS_SUCCESS",Le="POST_DETAILS_FAIL",Ie="POST_DETAILS_RESET",Re="CREATE_COMMENT_REQUEST",Ae="CREATE_COMMENT_SUCCESS",Pe="CREATE_COMMENT_FAIL",De="CREATE_COMMENT_RESET",Ue="DELETE_COMMENT_REQUEST",Fe="DELETE_COMMENT_SUCCESS",Me="DELETE_COMMENT_FAIL",Be="DELETE_COMMENT_RESET",Ge="DELETE_POST_REQUEST",ze="DELETE_POST_SUCCESS",Ke="DELETE_POST_FAIL",Ye="DELETE_POST_RESET",Qe=Object(o.combineReducers)({userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case d:return{loading:!1,user:t.payload};case p:return{loading:!1,error:t.payload};case b:return{};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case h:return{loading:!1,user:t.payload};case m:return{loading:!1,error:t.payload};case x:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{followers:[],following:[],bookmarks:[],likes:[],media:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case g:return{loading:!1,user:t.payload.user,whoToFollow:t.payload.whoToFollow};case y:return{loading:!1,error:t.payload};case v:return{user:{followers:[],following:[],bookmarks:[],likes:[],media:[]}};default:return e}},userEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0};case S:return{loading:!1,success:!0,user:t.payload};case k:return{loading:!1,error:t.payload};case _:return{};default:return e}},myPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case Z:return{loading:!1,posts:t.payload};case $:return{loading:!1,error:t.payload};case ee:return{posts:[]};default:return e}},postLike:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case re:return{loading:!1,success:!0};case ne:return{loading:!1,error:t.payload};case ae:return{};default:return e}},postBookmar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0};case ce:return{loading:!1,success:!0};case oe:return{loading:!1,error:t.payload};case ie:return{};default:return e}},likedPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case ue:return{loading:!1,posts:t.payload};case je:return{loading:!1,error:t.payload};case de:return{posts:[]};default:return e}},bookmarkedPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case be:return{loading:!1,posts:t.payload};case Oe:return{loading:!1,error:t.payload};case he:return{posts:[]};default:return e}},mediaPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case xe:return{loading:!1,posts:t.payload};case fe:return{loading:!1,error:t.payload};case ge:return{posts:[]};default:return e}},timelinePosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case ve:return{loading:!1,posts:t.payload};case Ee:return{loading:!1,error:t.payload};case Se:return{posts:[]};default:return e}},userFollowing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case T:return{loading:!1,users:t.payload};case w:return{loading:!1,error:t.payload};case N:return{users:[]};default:return e}},userFollowers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case I:return{loading:!1,users:t.payload};case R:return{loading:!1,error:t.payload};case A:return{users:[]};default:return e}},userSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case D:return{loading:!1,users:t.payload};case U:return{loading:!1,error:t.payload};case F:return{users:[]};default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return{loading:!0};case _e:return{loading:!1,success:!0};case Ce:return{loading:!1,error:t.payload};case Te:return{};default:return e}},postDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return{loading:!0};case Ne:return{loading:!1,post:t.payload};case Le:return{loading:!1,error:t.payload};case Ie:return{post:{}};default:return e}},createComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{loading:!0};case Ae:return{loading:!1,success:!0};case Pe:return{loading:!1,error:t.payload};case De:return{};default:return e}},deleteComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{loading:!0};case Fe:return{loading:!1,success:!0};case Me:return{loading:!1,error:t.payload};case Be:return{};default:return e}},deletePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return{loading:!0};case ze:return{loading:!1,success:!0};case Ke:return{loading:!1,error:t.payload};case Ye:return{};default:return e}},otherUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInform:{},postsInform:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0};case B:return{loading:!1,userInform:t.payload.user,postsInform:t.payload.posts};case G:return{loading:!1,error:t.payload};case z:return{userInform:{},postsInform:[]};default:return e}},followUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case Y:return{loading:!1,success:!0};case Q:return{loading:!1,error:t.payload};case H:return{};default:return e}},userDeactivate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case J:return{loading:!1,success:!0};case V:return{loading:!1,error:t.payload};case q:return{};default:return e}}}),He={userLogin:{user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},We=[l.a],Je=Object(o.createStore)(Qe,He,Object(i.composeWithDevTools)(o.applyMiddleware.apply(void 0,We))),Ve=(r(108),r(148)),qe=r(1),Xe=function(){return Object(qe.jsx)(Ve.a,{animation:"border",role:"status",style:{display:"block",margin:"1rem auto"},children:Object(qe.jsx)("span",{className:"sr-only",children:"Loading..."})})},Ze=r(25),$e=r(15),et=r(9),tt=r(149),rt=r(98),nt=function(e){var t=e.children;return Object(qe.jsxs)(tt.a,{className:"vh-100",children:[Object(qe.jsx)(rt.a,{md:3}),Object(qe.jsx)(rt.a,{md:6,children:t}),Object(qe.jsx)(rt.a,{md:3})]})},at=r(155),st=r(99),ct=r(150),ot=function(e){var t=e.variant,r=e.children;return Object(qe.jsx)(ct.a,{variant:t,children:r})},it=r(8),lt=r(11),ut=r(12),jt=r.n(ut),dt=function(){return function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),n=r().userLogin.user.token,a={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,jt.a.get("/api/user",a);case 6:s=e.sent,c=s.data,t({type:g,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},pt=function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:E}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.put("/api/user",e,s);case 6:c=t.sent,o=c.data,r({type:S,payload:o}),r({type:v}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:k,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},bt=function(){return function(e){e({type:x}),e({type:v}),localStorage.removeItem("userInfo")}},Ot=function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:M}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.get("/api/user/other/".concat(e),s);case 6:c=t.sent,o=c.data,r({type:B,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},ht=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(et.a)(r,2),s=a[0],o=a[1],i=Object(n.useState)(""),l=Object(et.a)(i,2),u=l[0],O=l[1],h=Object(n.useState)(""),m=Object(et.a)(h,2),x=m[0],f=m[1],g=Object(n.useState)(""),y=Object(et.a)(g,2),v=y[0],E=y[1],S=Object(n.useState)(""),k=Object(et.a)(S,2),_=k[0],C=k[1],T=Object(n.useState)(""),w=Object(et.a)(T,2),N=w[0],L=w[1],I=Object(n.useState)(""),R=Object(et.a)(I,2),A=R[0],P=R[1],D=Object(c.b)(),U=Object(c.c)((function(e){return e.userLogin})).user,F=Object(c.c)((function(e){return e.userRegister})),M=F.user,B=F.loading,G=F.error;Object(n.useEffect)((function(){return function(){D({type:b})}}),[]),Object(n.useEffect)((function(){(M||U)&&t.push("/home")}),[M,U]);return Object(qe.jsxs)(nt,{children:[Object(qe.jsx)("h1",{className:"mt-5 text-center text-primary",children:"Register"}),B?Object(qe.jsx)(Xe,{}):Object(qe.jsxs)(qe.Fragment,{children:[A&&Object(qe.jsx)(ot,{variant:"danger",children:A}),G&&Object(qe.jsx)(ot,{variant:"danger",children:G}),Object(qe.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),P(""),_!==N?P("Passwords Do Not Match"):D(function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r){var n,a,s;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:j}),n={headers:{"Content-Type":"application/json"}},t.next=5,jt.a.post("/api/user/register",e,n);case 5:a=t.sent,s=a.data,r({type:d,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:p,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}({name:s,lastName:u,userName:x,email:v,password:_}))},children:[Object(qe.jsxs)(at.a.Group,{controlId:"name",children:[Object(qe.jsx)(at.a.Label,{children:"Name"}),Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"Enter Name",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"lastName",children:[Object(qe.jsx)(at.a.Label,{children:"Last Name"}),Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"Enter Last Name",value:u,onChange:function(e){return O(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"userName",children:[Object(qe.jsx)(at.a.Label,{children:"User Name"}),Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"Enter User Name",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"email",children:[Object(qe.jsx)(at.a.Label,{children:"Email"}),Object(qe.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email Address",value:v,onChange:function(e){return E(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"password",children:[Object(qe.jsx)(at.a.Label,{children:"Password"}),Object(qe.jsx)(at.a.Control,{type:"password",placeholder:"Enter Password",value:_,onChange:function(e){return C(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"confirmPassword",children:[Object(qe.jsx)(at.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(at.a.Control,{type:"password",placeholder:"Confirm Password",value:N,onChange:function(e){return L(e.target.value)}})]}),Object(qe.jsx)(st.a,{type:"submit",variant:"primary",className:"btn btn-block",children:"Register"})]})]})]})},mt=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(et.a)(r,2),s=a[0],o=a[1],i=Object(n.useState)(""),l=Object(et.a)(i,2),u=l[0],j=l[1],d=Object(c.b)(),p=Object(c.c)((function(e){return e.userLogin})),b=p.loading,x=p.user,f=p.error;Object(n.useEffect)((function(){x&&x.name&&t.push("/home")}),[x]);return Object(qe.jsx)(nt,{children:Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)("h2",{className:"text-center mt-5 text-primary",children:"Login"}),b?Object(qe.jsx)(Xe,{}):Object(qe.jsxs)(qe.Fragment,{children:[f&&Object(qe.jsx)(ot,{variant:"danger",children:f}),Object(qe.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),d(function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r){var n,a,s;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:O}),n={headers:{"Content-Type":"application/json"}},t.next=5,jt.a.post("/api/user/login",e,n);case 5:a=t.sent,s=a.data,r({type:h,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:m,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}({email:s,password:u}))},children:[Object(qe.jsxs)(at.a.Group,{controlId:"email",children:[Object(qe.jsx)(at.a.Label,{children:"Email"}),Object(qe.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"password",children:[Object(qe.jsx)(at.a.Label,{children:"Password"}),Object(qe.jsx)(at.a.Control,{type:"password",placeholder:"Enter Password",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(qe.jsx)(st.a,{type:"submit",variant:"primary",className:"btn btn-block",children:"Log In"})]}),Object(qe.jsxs)("p",{className:"mt-2",children:["New User ? ",Object(qe.jsx)(Ze.Link,{to:"/register",children:" Register here"})]})]})]})})},xt=r(154),ft=function(e){var t=e.history,r=Object(c.c)((function(e){return e.userDetails})),a=r.loading,s=r.user,o=r.error,i=Object(c.c)((function(e){return e.userDeactivate})),l=i.loading,u=i.success,j=i.error,d=Object(n.useState)(""),p=Object(et.a)(d,2),b=p[0],O=p[1],h=Object(n.useState)(""),m=Object(et.a)(h,2),f=m[0],g=m[1],y=Object(n.useState)(""),E=Object(et.a)(y,2),S=E[0],k=E[1],C=Object(n.useState)(""),T=Object(et.a)(C,2),w=T[0],N=T[1],L=Object(n.useState)(""),I=Object(et.a)(L,2),R=I[0],A=I[1],P=Object(n.useState)(""),D=Object(et.a)(P,2),U=D[0],F=D[1],M=Object(n.useState)(""),B=Object(et.a)(M,2),G=B[0],z=B[1],K=Object(n.useState)(s.photo?s.photo:""),Y=Object(et.a)(K,2),Q=Y[0],H=Y[1],X=Object(n.useState)(!1),Z=Object(et.a)(X,2),$=(Z[0],Z[1]),ee=Object(c.b)(),te=Object(n.useState)(!1),re=Object(et.a)(te,2),ne=re[0],ae=re[1],se=function(){return ae(!1)},ce=Object(c.c)((function(e){return e.userEdit})),oe=ce.loading,ie=ce.success,le=ce.error,ue=Object(c.c)((function(e){return e.userLogin})).user;Object(n.useEffect)((function(){return function(){ee({type:v})}}),[]),Object(n.useEffect)((function(){ue&&ue.name||t.push("/login"),ie&&(ee({type:_}),ee(dt()),t.push("/home")),u&&(ee({type:q}),t.push("/login")),s&&s.name?(O(s.name),g(s.lastName),k(s.userName),N(s.email)):ee(dt())}),[ee,s,ie,u]);var je=function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t){var r,n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("triggered"),r=t.target.files[0],(n=new FormData).append("image",r),$(!0),e.prev=5,a={headers:{"Content-Type":"multipart/form-data"}},e.next=9,jt.a.post("/api/upload",n,a);case 9:s=e.sent,c=s.data,console.log("DATA",c),H(c),$(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0),$(!1);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(qe.jsxs)(nt,{children:[Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:10,children:Object(qe.jsx)("h2",{className:"mt-5 text-primary text-center",children:"Edit Profile"})}),Object(qe.jsx)(rt.a,{md:2,children:Object(qe.jsx)(st.a,{type:"button",variant:"primary",className:"mt-5 text-right ",onClick:function(){return t.goBack()},children:"Back"})})]}),a||oe||l?Object(qe.jsx)(Xe,{}):Object(qe.jsxs)(qe.Fragment,{children:[G&&Object(qe.jsx)(ot,{variant:"danger",children:G}),le&&Object(qe.jsx)(ot,{variant:"danger",children:le}),j&&Object(qe.jsx)(ot,{variant:"danger",children:j}),o&&Object(qe.jsx)(ot,{variant:"danger",children:o}),Object(qe.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),z(""),R&&R!==U?z("Passwords Do Not Match"):""==Q?(console.log("NO"),ee(pt({name:b,lastName:f,email:w,userName:S,password:R,photo:"/images/blank.png"}))):(console.log("yes"),ee(pt({name:b,lastName:f,email:w,userName:S,password:R,photo:Q})))},children:[Object(qe.jsxs)(at.a.Group,{controlId:"name",children:[Object(qe.jsx)(at.a.Label,{children:"Name"}),Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"Enter Name",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"lastName",children:[Object(qe.jsx)(at.a.Label,{children:"Last Name"}),Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"Enter Last Name",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"userName",children:[Object(qe.jsx)(at.a.Label,{children:"User Name"}),Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"Enter User Name",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"email",children:[Object(qe.jsx)(at.a.Label,{children:"Email"}),Object(qe.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email Address",value:w,onChange:function(e){return N(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"password",children:[Object(qe.jsx)(at.a.Label,{children:"Password"}),Object(qe.jsx)(at.a.Control,{type:"password",placeholder:"Enter Password",value:R,onChange:function(e){return A(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{controlId:"confirmPassword",children:[Object(qe.jsx)(at.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(at.a.Control,{type:"password",placeholder:"Confirm Password",value:U,onChange:function(e){return F(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{children:[Object(qe.jsx)(at.a.Control,{placeholder:Q,value:Q,readOnly:!0}),Object(qe.jsx)(st.a,{variant:"primary",className:"btn btn-sm mt-1 mb-2",onClick:function(){H("")},children:"clear"}),Object(qe.jsx)(at.a.File,{id:"exampleFormControlFile1",label:"Choose file",custom:!0,onChange:je,onClick:function(e){return e.target.value=null}})]}),Object(qe.jsx)(st.a,{type:"submit",variant:"primary",className:"btn btn-block",children:"Edit Profile"})]}),Object(qe.jsx)(st.a,{type:"button",variant:"primary",className:"btn my-5",onClick:function(){return ae(!0)},children:"Decativate Account"}),Object(qe.jsxs)(xt.a,{show:ne,onHide:se,children:[Object(qe.jsx)(xt.a.Header,{closeButton:!0,children:Object(qe.jsx)(xt.a.Title,{children:"Dactivate Account"})}),Object(qe.jsx)(xt.a.Body,{children:"Are You Sure ?"}),Object(qe.jsxs)(xt.a.Footer,{children:[Object(qe.jsx)("button",{className:"button",onClick:se,children:"Cancel"}),Object(qe.jsx)("button",{className:"button",onClick:function(){var e;ee((e=ue._id,function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:W}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.delete("/api/user/".concat(e),s);case 6:c=t.sent,o=c.data,r({type:x}),r({type:v}),localStorage.removeItem("userInfo"),r({type:J,payload:o}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),r({type:V,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()))},children:"Ok"})]})]})]})]})},gt=r(156),yt=r(152),vt=r(157),Et=r(151),St=r(153),kt=r(158),_t=r(16),Ct=function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ke}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.post("/api/post/create",e,s);case 6:c=t.sent,o=c.data,r({type:v}),r({type:_e,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:Ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},Tt=function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:we}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.get("/api/post/postDetails/".concat(e),s);case 6:c=t.sent,o=c.data,r({type:Ne,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Le,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},wt=r(37),Nt=r.n(wt),Lt=r(57),It=Object($e.o)((function(e){var t=e.profileDetails,r=e.myProfileDetails,a=e.history,s=Object(n.useState)({}),o=Object(et.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)({}),j=Object(et.a)(u,2),d=j[0],p=j[1],b=Object(n.useState)(!1),O=Object(et.a)(b,2),h=O[0],m=O[1],x=Object(c.b)(),f=(Object(c.c)((function(e){return e.userDetails})).whoToFollow,Object(n.useRef)());Object(n.useEffect)((function(){f.current||(f.current=Object(Lt.a)("https://poster-ziq3.onrender.com")),l(t),p(r)}),[]);return Object(qe.jsx)("div",{className:"nav-border last-card-item",children:Object(qe.jsxs)(tt.a,{className:"mx-1 mt-2 mb-1",children:[Object(qe.jsx)(rt.a,{md:8,onClick:function(){i._id===d._id?a.push("/myposts"):a.push("/userDetails/".concat(i._id))},className:"curserPointer",children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:2,children:Object(qe.jsx)(Et.a,{src:i.photo?i.photo:"/images/blank.png",roundedCircle:!0,style:{display:"inline-block",height:"40px",width:"40px",marginTop:"5px"}})}),Object(qe.jsxs)(rt.a,{md:9,className:"pt-1 ml-3",children:[Object(qe.jsxs)("h5",{className:"d-inline-block mb-0",children:[" ",i.name," ",i.lastName]}),Object(qe.jsxs)("p",{className:"grey-color mt-0",children:["@",i.userName]})]})]})}),Object(qe.jsx)(rt.a,{md:4,children:h?Object(qe.jsxs)(st.a,{variant:"primary",disabled:!0,children:[Object(qe.jsx)(Ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),Object(qe.jsx)("span",{className:"sr-only",children:"Loading..."})]}):d.following&&d._id!==i._id&&Object(qe.jsx)(st.a,{variant:"button",className:"btn btn-primary",onClick:function(){m(!0),f.current.emit("follow",{myId:d._id,userId:i._id}),f.current.on("followed",(function(e){var t=e.myProfile,r=e.newWhoToFollow;p(t),x({type:g,payload:{user:t,whoToFollow:r}}),m(!1)}))},children:d.following.includes(i._id)?"Following":"Follow"})})]})})})),Rt=Object($e.o)((function(e){var t=e.children,r=e.compAdd,a=e.history,s=Object(n.useState)(""),o=Object(et.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(""),j=Object(et.a)(u,2),d=j[0],p=j[1],b=Object(n.useState)(""),O=Object(et.a)(b,2),h=O[0],m=O[1],x=Object(n.useState)(!1),f=Object(et.a)(x,2),g=f[0],y=f[1],v=Object(c.b)(),E=Object(c.c)((function(e){return e.userDetails})),S=E.loading,k=E.user,_=E.whoToFollow,C=E.error,T=Object(c.c)((function(e){return e.userLogin})).user,w=Object(c.c)((function(e){return e.post})),N=w.loading,L=w.success,I=w.error,R=Object(n.useState)(!1),A=Object(et.a)(R,2),P=A[0],D=A[1],U=function(){return D(!1)};Object(n.useEffect)((function(){T&&T.name?(L&&(v({type:Te}),v({type:ee}),U(),a.push("/myPosts")),k&&k.name||v(dt())):a.push("/login")}),[k,_,v,a,T,L]);var F=function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t){var r,n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],console.log("FILE",r),(n=new FormData).append("image",r),y(!0),e.prev=5,a={headers:{"Content-Type":"multipart/form-data"}},e.next=9,jt.a.post("/api/upload",n,a);case 9:s=e.sent,c=s.data,console.log("DATA",c),m(c),y(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0),y(!1);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(qe.jsx)(qe.Fragment,{children:S?Object(qe.jsx)(Xe,{}):C?Object(qe.jsx)(ot,{variant:"danger",children:C}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)(tt.a,{style:{height:"5rem",backgroundColor:"black"},className:"sticky-top",children:Object(qe.jsx)(rt.a,{children:Object(qe.jsx)("div",{className:"wrapper",children:Object(qe.jsx)(gt.a,{bg:"primary",expand:"lg",variant:"dark",children:Object(qe.jsxs)(yt.a,{children:[Object(qe.jsx)(_t.LinkContainer,{to:"/home",children:Object(qe.jsx)(gt.a.Brand,{children:Object(qe.jsxs)("h2",{children:["Poster ",Object(qe.jsx)("i",{class:"fas fa-paper-plane"})]})})}),Object(qe.jsxs)(vt.a,{className:"ml-auto",children:[Object(qe.jsx)(Et.a,{src:k.photo?k.photo:"/images/blank.png",roundedCircle:!0,style:{display:"inline-block",height:"25px",width:"25px",marginTop:"5px"}}),Object(qe.jsx)(St.a,{as:"h5",title:k.name,id:"basic-nav-dropdown",children:Object(qe.jsx)(_t.LinkContainer,{to:"/edit",children:Object(qe.jsx)(St.a.Item,{children:"Edit"})})}),Object(qe.jsx)(vt.a.Link,{as:"h5",onClick:function(){v(bt())},children:"Sign Out"})]})]})})})})}),Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:3,children:Object(qe.jsx)("div",{className:"sidebar-sticky",children:Object(qe.jsxs)("div",{className:"text-center",children:[Object(qe.jsx)(Et.a,{src:k.photo?k.photo:"/images/blank.png",roundedCircle:!0,className:"image-profile"}),Object(qe.jsxs)("h3",{className:"my-0",children:[k.name," ",k.lastName]}),Object(qe.jsxs)("p",{className:"lead grey-color mt-0",children:["@",k.userName]}),Object(qe.jsxs)("p",{className:"lead grey-color",children:[Object(qe.jsx)("i",{className:"far fa-calendar-alt"})," Joined"," ",Nt()(k.createdAt).format("MMMM YYYY")]}),Object(qe.jsxs)("p",{className:"lead",children:[Object(qe.jsx)("span",{children:k.following.length})," ",Object(qe.jsx)("span",{className:"grey-color pr-3",children:Object(qe.jsx)(Ze.Link,{className:"grey-color",to:"/following",children:"Following"})})," ",Object(qe.jsx)("span",{children:k.followers.length})," ",Object(qe.jsx)("span",{className:"grey-color",children:Object(qe.jsx)(Ze.Link,{className:"grey-color",to:"/followers",children:"Followers"})})]}),Object(qe.jsxs)("p",{className:"lead",children:[k.postCount," ",Object(qe.jsx)("span",{className:"grey-color",children:"Total Posts"})]}),Object(qe.jsx)("button",{className:"post-btn",onClick:function(){D(!0),m("")},children:"POST"}),Object(qe.jsxs)(xt.a,{show:P,onHide:U,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(qe.jsx)(xt.a.Header,{closeButton:!0,children:Object(qe.jsx)(xt.a.Title,{children:"Post"})}),Object(qe.jsxs)(xt.a.Body,{children:[N&&Object(qe.jsx)(Xe,{}),I&&Object(qe.jsx)(ot,{variant:"danger",children:I}),Object(qe.jsxs)(at.a,{children:[Object(qe.jsxs)(at.a.Group,{controlId:"message",children:[Object(qe.jsx)(at.a.Label,{children:"Message"}),Object(qe.jsx)(at.a.Control,{as:"textarea",rows:3,placeholder:"Whats Happening?",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(qe.jsxs)(at.a.Group,{children:[Object(qe.jsx)(at.a.Control,{placeholder:h,value:h}),Object(qe.jsx)(st.a,{variant:"primary",className:"btn btn-sm mt-1 mb-2",onClick:function(){m("")},children:"clear"}),Object(qe.jsx)(at.a.File,{id:"exampleFormControlFile1",label:"Choose file",custom:!0,onClick:function(e){return e.target.value=null},onChange:F})]}),g&&Object(qe.jsx)(Xe,{})]})]}),Object(qe.jsxs)(xt.a.Footer,{children:[Object(qe.jsx)("button",{className:"button",onClick:U,children:"Close"}),Object(qe.jsx)("button",{className:"button",onClick:function(e){e.preventDefault(),v(Ct(""===h?{message:d}:{message:d,image:h}))},children:"Submit"})]})]})]})})}),Object(qe.jsxs)(rt.a,{md:6,className:"posts-border p-0 mb-4",children:[Object(qe.jsx)("div",{style:{position:"sticky",top:"5rem",zIndex:"20",backgroundColor:"black"},children:Object(qe.jsx)("div",{style:{marginTop:"2rem",marginBottom:"1rem",marginLeft:"0.5rem",marginRight:"0.5rem"},children:Object(qe.jsxs)(vt.a,{fill:!0,variant:"pills",defaultActiveKey:r,className:"justify-content-center nav-border  pb-4",children:["/followers"!==r&&"/following"!==r&&"/search"!==r&&"/postDetails"!==r&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/home",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Timeline"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/myPosts",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"My Posts"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/liked",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Liked"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/media",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Media"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/bookmarks",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Bookmarks"})})})})]}),"/followers"===r&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/followers",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Followers"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/home",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Back"})})})})]}),"/following"===r&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/following",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Following"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/home",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Back"})})})})]}),"/search"===r&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/search",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Search Result"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/home",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Back"})})})})]}),"/postDetails"===r&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/postDetails",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Post Details"})})})}),Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(_t.LinkContainer,{to:"/myPosts",children:Object(qe.jsx)(vt.a.Link,{children:Object(qe.jsx)("h5",{children:"Back"})})})})]})]})})}),Object(qe.jsx)("div",{className:"bottom-wrapper",children:t})]}),Object(qe.jsx)(rt.a,{md:3,children:Object(qe.jsxs)("div",{className:"sidebar-sticky ",children:[Object(qe.jsx)("div",{className:"mx-3 mt-5 text-center",children:Object(qe.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),""===i&&l("a"),a.push("/search/".concat(i))},children:[Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"...Search Users",value:i,onChange:function(e){return l(e.target.value)}}),Object(qe.jsx)(st.a,{type:"submit",className:"btn btn-primary-block mt-4",children:"Search"})]})}),Object(qe.jsxs)("div",{style:{marginTop:"3rem"},children:[Object(qe.jsx)("h2",{className:"text-primary text-center mb-3",children:"Who To Follow"}),_&&k&&Object(qe.jsx)(kt.a,{className:"bg-dark text-white mx-2 my-0",children:_.map((function(e){return Object(qe.jsx)(It,{profileDetails:e,myProfileDetails:k},e._id)}))})]})]})})]})]})})})),At=Object($e.o)((function(e){var t=e.postDetails,r=e.user,a=e.history,s=Object(n.useState)({}),o=Object(et.a)(s,2),i=o[0],l=o[1],u=Object(n.useRef)();Object(c.b)();Object(n.useEffect)((function(){u.current||(u.current=Object(Lt.a)("https://poster-ziq3.onrender.com")),l(t)}),[]);var j=function(){u.current.emit("like",{postId:i._id,userId:r._id}),u.current.on("liked",(function(e){var t=e.post;l(t)}))},d=function(){u.current.emit("bookmark",{postId:i._id,userId:r._id}),u.current.on("bookmarked",(function(e){var t=e.post;l(t)}))},p=function(){a.push("/postdetails/".concat(i._id))};return Object(qe.jsxs)("div",{className:"nav-border pt-4 hover-effect",children:[Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:5,children:Object(qe.jsxs)(tt.a,{onClick:function(){i.user._id===r._id?a.push("/myposts"):a.push("/userDetails/".concat(i.user._id))},children:[Object(qe.jsx)(rt.a,{md:3,children:i.user&&Object(qe.jsx)(Et.a,{src:i.user.photo?i.user.photo:"/images/blank.png",roundedCircle:!0,style:{display:"inline-block",height:"50px",width:"50px",marginTop:"5px",marginLeft:"1rem"}})}),Object(qe.jsxs)(rt.a,{md:8,className:"ml-1 mt-2 ",children:[Object(qe.jsxs)("h5",{className:"d-inline-block mb-0 grey-color",children:[i.user&&i.user.name," ",i.user&&i.user.lastName]}),Object(qe.jsxs)("p",{className:"grey-color mt-0",children:["@",i.user&&i.user.userName]})]})]})}),Object(qe.jsx)(rt.a,{md:5}),Object(qe.jsx)(rt.a,{md:2,className:"text-left mt-2 grey-color",children:Nt()(i.createdAt).startOf("hour").fromNow()})]}),Object(qe.jsx)("div",{className:"post-margin my-2",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("/postDetails/".concat(i._id))},children:Object(qe.jsx)("h5",{className:" text-justify",children:i.message})}),i.image&&Object(qe.jsx)("div",{className:"text-center",onClick:p,children:Object(qe.jsx)(Et.a,{src:i.image,rounded:!0,style:{display:"inline-block",height:"20rem",width:"60%",marginTop:"5px"}})}),Object(qe.jsx)(tt.a,{className:"mt-5 mb-3 text-center",children:i.user&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(rt.a,{md:4,className:"curserPointer",children:r&&i.likes.includes(r._id.toString())?Object(qe.jsxs)("i",{className:"fas fa-heart red-heart",onClick:j,children:[" (",i.likes.length,")"]}):Object(qe.jsxs)("i",{className:"far fa-heart h5 text-danger",onClick:j,children:[" (",i.likes.length,")"]})}),Object(qe.jsx)(rt.a,{md:4,onClick:p,className:"curserPointer",children:Object(qe.jsxs)("i",{className:"far fa-comment-alt h5 grey-color",children:[" (",i.comments.length,")"]})}),Object(qe.jsx)(rt.a,{md:4,className:"curserPointer",children:r&&i.bookmarks.includes(r._id.toString())?Object(qe.jsx)("i",{className:"fas fa-bookmark gray-bookmark",onClick:d,children:" Bookmarked"}):Object(qe.jsx)("i",{className:"far fa-bookmark h5 grey-color",onClick:d,children:" Bookmark"})})]})})]})})),Pt=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.userLogin})).user,s=Object(c.c)((function(e){return e.timelinePosts})),o=s.loading,i=s.posts,l=s.error;return Object(n.useEffect)((function(){a&&a.name?i&&0!==i.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ye}),n=r().userLogin.user.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,jt.a.get("/api/post/timeline",a);case 6:s=e.sent,c=s.data,t({type:ve,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ee,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[a,r,t,i]),Object(n.useEffect)((function(){return function(){r({type:Se})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/home",children:o?Object(qe.jsx)(Xe,{}):l?Object(qe.jsx)(ot,{variant:"danger",children:l}):Object(qe.jsx)(qe.Fragment,{children:i&&i.map((function(e){return Object(qe.jsx)(At,{postDetails:e,user:a,history:t},e._id)}))})})},Dt=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.myPosts})),s=a.loading,o=a.posts,i=a.error,l=Object(c.c)((function(e){return e.userLogin})).user;return Object(n.useEffect)((function(){l&&l.name?o&&0!==o.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:X}),n=r().userLogin.user.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,jt.a.get("/api/post/my",a);case 6:s=e.sent,c=s.data,t({type:Z,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:$,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[l,t,r,o]),Object(n.useEffect)((function(){return function(){r({type:ee})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/myPosts",children:s?Object(qe.jsx)(Xe,{}):i?Object(qe.jsx)(ot,{variant:"danger",children:i}):Object(qe.jsxs)("div",{children:[0===o.length&&Object(qe.jsx)("p",{className:"text-center my-3",children:"No Posts"}),o.map((function(e){return Object(qe.jsx)(At,{postDetails:e,user:l},e._id)}))]})})},Ut=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.likedPosts})),s=a.loading,o=a.posts,i=a.error,l=Object(c.c)((function(e){return e.userLogin})).user;return Object(n.useEffect)((function(){l&&l.name?o&&0!==o.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:le}),n=r().userLogin.user.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,jt.a.get("/api/post/like",a);case 6:s=e.sent,c=s.data,t({type:ue,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:je,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,l,o,t]),Object(n.useEffect)((function(){return function(){r({type:de})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/liked",children:s?Object(qe.jsx)(Xe,{}):i?Object(qe.jsx)(ot,{variant:"danger",children:i}):Object(qe.jsx)(qe.Fragment,{children:o&&o.map((function(e){return Object(qe.jsx)(At,{postDetails:e,user:l},e._id)}))})})},Ft=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.bookmarkedPosts})),s=a.loading,o=a.posts,i=a.error,l=Object(c.c)((function(e){return e.userLogin})).user;return Object(n.useEffect)((function(){l&&l.name?o&&0!==o.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:pe}),n=r().userLogin.user.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,jt.a.get("/api/post/bookmark",a);case 6:s=e.sent,c=s.data,t({type:be,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Oe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,l,o,t]),Object(n.useEffect)((function(){return function(){r({type:he})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/bookmarks",children:s?Object(qe.jsx)(Xe,{}):i?Object(qe.jsx)(ot,{variant:"danger",children:i}):Object(qe.jsx)(qe.Fragment,{children:o&&o.map((function(e){return Object(qe.jsx)(At,{postDetails:e,user:l},e._id)}))})})},Mt=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.mediaPosts})),s=a.loading,o=a.posts,i=a.error,l=Object(c.c)((function(e){return e.userLogin})).user;return Object(n.useEffect)((function(){l&&l.name?o&&0!==o.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:me}),n=r().userLogin.user.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,jt.a.get("/api/post/media",a);case 6:s=e.sent,c=s.data,t({type:xe,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:fe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,l,o,t]),Object(n.useEffect)((function(){return function(){r({type:ge})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/media",children:s?Object(qe.jsx)(Xe,{}):i?Object(qe.jsx)(ot,{variant:"danger",children:i}):Object(qe.jsx)(qe.Fragment,{children:o&&o.map((function(e){return Object(qe.jsx)(At,{postDetails:e,user:l},e._id)}))})})},Bt=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.userLogin})).user,s=Object(c.c)((function(e){return e.userFollowing})),o=s.loading,i=s.users,l=s.error,u=Object(c.c)((function(e){return e.userDetails})),j=u.loading,d=u.user,p=u.error;return Object(n.useEffect)((function(){a&&a.name?i&&0!==i.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:C}),n=r().userLogin.user.token,a={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,jt()("/api/user/following",a);case 6:s=e.sent,c=s.data,t({type:T,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:w,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[t,r,a,i]),Object(n.useEffect)((function(){return function(){r({type:N})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/following",children:o||j?Object(qe.jsx)(Xe,{}):l||p?Object(qe.jsx)(ot,{variant:"danger",children:l||p}):Object(qe.jsx)("div",{style:{paddingBottom:"1rem"},children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:2}),Object(qe.jsx)(rt.a,{md:8,children:Object(qe.jsx)("div",{className:"posts-border user-border py-2",children:i.map((function(e){return Object(qe.jsx)(It,{profileDetails:e,myProfileDetails:d},e._id)}))})}),Object(qe.jsx)(rt.a,{md:2})]})})})},Gt=function(e){var t=e.history,r=Object(c.b)(),a=Object(c.c)((function(e){return e.userLogin})).user,s=Object(c.c)((function(e){return e.userFollowers})),o=s.loading,i=s.users,l=s.error,u=Object(c.c)((function(e){return e.userDetails})),j=u.loading,d=u.user,p=u.error;return Object(n.useEffect)((function(){a&&a.name?i&&0!==i.length||r(function(){var e=Object(lt.a)(Object(it.a)().mark((function e(t,r){var n,a,s,c;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),n=r().userLogin.user.token,a={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,jt()("/api/user/followers",a);case 6:s=e.sent,c=s.data,t({type:I,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:R,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[t,r,a,i]),Object(n.useEffect)((function(){return function(){r({type:A})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/followers",children:o||j?Object(qe.jsx)(Xe,{}):l||p?Object(qe.jsx)(ot,{variant:"danger",children:l||p}):Object(qe.jsx)("div",{style:{paddingBottom:"1rem"},children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:2}),Object(qe.jsx)(rt.a,{md:8,children:Object(qe.jsx)("div",{className:"posts-border user-border py-2",children:i.map((function(e){return Object(qe.jsx)(It,{profileDetails:e,myProfileDetails:d},e._id)}))})}),Object(qe.jsx)(rt.a,{md:2})]})})})},zt=function(e){var t=e.history,r=e.match.params.keyword||" ",a=Object(c.b)(),s=Object(c.c)((function(e){return e.userLogin})).user,o=Object(c.c)((function(e){return e.userSearch})),i=o.loading,l=o.users,u=o.error,j=Object(c.c)((function(e){return e.userDetails})),d=j.loading,p=j.user,b=j.error;return Object(n.useEffect)((function(){s&&s.name?a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:P}),a=n().userLogin.user.token,s={headers:{Authorization:"Bearer ".concat(a)}},t.next=6,jt()("/api/user/search?keyword=".concat(e),s);case 6:c=t.sent,o=c.data,r({type:D,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:U,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r)):t.push("/login")}),[a,t,r]),Object(n.useEffect)((function(){return function(){a({type:F})}}),[]),Object(qe.jsx)(Rt,{compAdd:"/search",children:i||d?Object(qe.jsx)(Xe,{}):u||b?Object(qe.jsx)(ot,{variant:"danger",children:u||b}):Object(qe.jsx)("div",{style:{paddingBottom:"1rem"},children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:2}),Object(qe.jsx)(rt.a,{md:8,children:Object(qe.jsx)("div",{className:"posts-border user-border py-2",children:l.map((function(e){return Object(qe.jsx)(It,{profileDetails:e,myProfileDetails:p},e._id)}))})}),Object(qe.jsx)(rt.a,{md:2})]})})})},Kt=Object($e.o)((function(e){var t=e.commentProp,r=e.postId,a=e.history,s=Object(c.c)((function(e){return e.userLogin})).user,o=Object(c.b)(),i=Object(n.useRef)(),l=Object(n.useState)({}),u=Object(et.a)(l,2),j=u[0],d=u[1],p=Object(n.useState)(!1),b=Object(et.a)(p,2),O=b[0],h=b[1],m=function(){return h(!1)};Object(n.useEffect)((function(){s&&s.name||a.push("/login")}),[s]),Object(n.useEffect)((function(){i.current||(i.current=Object(Lt.a)("https://poster-ziq3.onrender.com")),d(t)}),[]);var x=function(){i.current.emit("likeComment",{postId:r,commentId:j._id,userId:s._id}),i.current.on("likedComment",(function(e){var t=e.getComment;d(t)}))};return Object(qe.jsxs)("div",{className:"nav-border pt-4 hover-effect",children:[Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:5,children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:3,children:j.user&&Object(qe.jsx)(Et.a,{src:j.user.photo?j.user.photo:"/images/blank.png",roundedCircle:!0,style:{display:"inline-block",height:"50px",width:"50px",marginTop:"5px",marginLeft:"1rem"}})}),Object(qe.jsxs)(rt.a,{md:8,className:"ml-1 mt-2 ",children:[Object(qe.jsxs)("h5",{className:"d-inline-block mb-0 grey-color",children:[j.user&&j.user.name," ",j.user&&j.user.lastName]}),Object(qe.jsxs)("p",{className:"grey-color mt-0",children:["@",j.user&&j.user.userName]})]})]})}),Object(qe.jsx)(rt.a,{md:5}),Object(qe.jsx)(rt.a,{md:2,className:"text-left mt-2 grey-color",children:Nt()(j.createdAt).startOf("hour").fromNow()})]}),Object(qe.jsx)("div",{className:"post-margin my-2",children:Object(qe.jsx)("h5",{className:" text-justify",children:j.comment})}),Object(qe.jsx)(tt.a,{className:"mt-5 mb-3 text-center",children:s&&j.user&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(rt.a,{md:5,children:Object(qe.jsx)("p",{className:"grey-color mr-1",children:Nt()(j.createdAt).format("MMMM Do YYYY, h:mm a")})}),Object(qe.jsx)(rt.a,{md:5,className:"text-left curserPointer",children:s&&j.likes.includes(s._id.toString())?Object(qe.jsxs)("i",{className:"fas fa-heart red-heart",onClick:x,children:[" (",j.likes.length,")"]}):Object(qe.jsxs)("i",{className:"far fa-heart h5 text-danger",onClick:x,children:[" (",j.likes.length,")"]})}),(s&&s.isAdmin||s._id===j.user._id)&&Object(qe.jsx)(rt.a,{md:1,className:"curserPointer",children:Object(qe.jsx)("i",{className:"far fa-trash-alt",style:{color:"#758283",fontSize:"1.2rem"},onClick:function(){return h(!0)}})}),Object(qe.jsxs)(xt.a,{show:O,onHide:m,children:[Object(qe.jsx)(xt.a.Header,{closeButton:!0,children:Object(qe.jsx)(xt.a.Title,{children:"Delete Comment"})}),Object(qe.jsx)(xt.a.Body,{children:"Are You Sure ?"}),Object(qe.jsxs)(xt.a.Footer,{children:[Object(qe.jsx)("button",{className:"button",onClick:m,children:"Cancel"}),Object(qe.jsx)("button",{className:"button",onClick:function(){o(function(e){var t=e.postId,r=e.commentId;return function(){var e=Object(lt.a)(Object(it.a)().mark((function e(n,a){var s,c,o,i;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:Ue}),s=a().userLogin.user.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=6,jt.a.delete("/api/post/comment/".concat(t,"/").concat(r),c);case 6:o=e.sent,i=o.data,n({type:Fe,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:Me,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()}({postId:r,commentId:j._id})),m()},children:"Ok"})]})]})]})})]})})),Yt=function(e){var t=e.match,r=e.history,a=Object(n.useState)(""),s=Object(et.a)(a,2),o=s[0],i=s[1],l=t.params.id,u=Object(c.b)(),j=Object(c.c)((function(e){return e.userLogin})).user,d=Object(c.c)((function(e){return e.postDetails})),p=d.loading,b=d.post,O=d.error,h=Object(c.c)((function(e){return e.createComment})),m=h.loading,x=h.error,f=h.success,g=Object(c.c)((function(e){return e.deleteComment})),y=(g.loading,g.error,g.success),v=Object(c.c)((function(e){return e.deletePost})),E=v.loading,S=v.error,k=v.success,_=Object(n.useState)(!1),C=Object(et.a)(_,2),T=C[0],w=C[1],N=function(){return w(!1)};Object(n.useEffect)((function(){j&&j.name?(b&&b._id||u(Tt(l)),f&&(u({type:De}),i(""),u(Tt(l))),y&&(u({type:Be}),u(Tt(l))),k&&(u({type:Ye}),r.push("/myPosts"))):r.push("/login")}),[j,r,l,f,y,k]),Object(n.useEffect)((function(){return function(){u({type:Ie})}}),[]);return Object(qe.jsx)(Rt,{compAdd:"/postDetails",children:p?Object(qe.jsx)(Xe,{}):O?Object(qe.jsx)(ot,{variant:"danger",children:O}):Object(qe.jsxs)(qe.Fragment,{children:[E&&Object(qe.jsx)(Xe,{}),S&&Object(qe.jsx)(ot,{variant:"danger",children:S}),Object(qe.jsx)(At,{postDetails:b,user:j,history:r}),Object(qe.jsxs)(tt.a,{className:"nav-border",children:[Object(qe.jsx)(rt.a,{md:6,children:Object(qe.jsxs)("h5",{className:"grey-color m-3 ",children:["Post Created At :- ",Nt()(b.createdAt).format("MMMM Do YYYY, h:mm a")]})}),Object(qe.jsx)(rt.a,{md:4}),b&&b.user&&Object(qe.jsx)(rt.a,{md:2,children:j&&(j.isAdmin||j._id===b.user._id)&&Object(qe.jsx)("i",{className:"far fa-trash-alt",style:{color:"#758283",fontSize:"1.5rem",marginTop:"1rem"},onClick:function(){return w(!0)}})}),Object(qe.jsxs)(xt.a,{show:T,onHide:N,children:[Object(qe.jsx)(xt.a.Header,{closeButton:!0,children:Object(qe.jsx)(xt.a.Title,{children:"Delete Post"})}),Object(qe.jsx)(xt.a.Body,{children:"Are You Sure ?"}),Object(qe.jsxs)(xt.a.Footer,{children:[Object(qe.jsx)("button",{className:"button",onClick:N,children:"Cancel"}),Object(qe.jsx)("button",{className:"button",onClick:function(){u(function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ge}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.delete("/api/post/single/".concat(e),s);case 6:c=t.sent,o=c.data,r({type:ze,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Ke,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(l)),N()},children:"Ok"})]})]})]}),Object(qe.jsxs)(yt.a,{className:"mt-5",children:[Object(qe.jsx)("h4",{className:"m-2 my-3",children:"Write A Comment:-"}),m&&Object(qe.jsx)(Xe,{}),x&&Object(qe.jsx)(ot,{variant:"danger",children:x}),Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:2}),Object(qe.jsx)(rt.a,{md:8,children:Object(qe.jsxs)(at.a,{children:[Object(qe.jsx)(at.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(qe.jsx)(at.a.Control,{placeholder:"Post a Comment",as:"textarea",rows:3,value:o,onChange:function(e){return i(e.target.value)}})}),Object(qe.jsx)(st.a,{type:"button",variant:"primary",onClick:function(e){e.preventDefault(),u(function(e){var t=e.comment,r=e.postId;return function(){var e=Object(lt.a)(Object(it.a)().mark((function e(n,a){var s,c,o,i;return Object(it.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:Re}),s=a().userLogin.user.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=6,jt.a.post("/api/post/comment/".concat(r),{comment:t},c);case 6:o=e.sent,i=o.data,n({type:Ae,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:Pe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()}({comment:o,postId:l}))},children:"Submit"})]})}),Object(qe.jsx)(rt.a,{md:2})]})]}),Object(qe.jsxs)(yt.a,{children:[Object(qe.jsxs)("h4",{className:"m-2 mt-5 mb-3",children:["Comments:-  ",b.comments&&0===b.comments.length&&"0 Comments"]}),Object(qe.jsx)(tt.a,{children:Object(qe.jsx)(rt.a,{md:12,children:b.comments&&b.comments.map((function(e){return Object(qe.jsx)(Kt,{commentProp:e,postId:b._id},e._id)}))})})]})]})})},Qt=function(e){var t=e.history,r=e.match.params.id,a=Object(n.useState)(""),s=Object(et.a)(a,2),o=s[0],i=s[1],l=Object(c.b)(),u=Object(c.c)((function(e){return e.userDetails})),j=u.loading,d=u.user,p=u.whoToFollow,b=u.error,O=Object(c.c)((function(e){return e.userLogin})).user,h=Object(c.c)((function(e){return e.otherUser})),m=h.loading,x=h.userInform,f=h.postsInform,g=h.error,y=Object(c.c)((function(e){return e.followUser})),E=y.loading,S=(y.success,y.error),k=Object(c.c)((function(e){return e.userDeactivate})),_=k.loading,C=k.success,T=k.error,w=Object(n.useState)(!1),N=Object(et.a)(w,2),L=N[0],I=N[1],R=function(){return I(!1)};Object(n.useEffect)((function(){O&&O.name?(d&&d.name||l(dt()),x&&x.name||l(Ot(r)),C&&(l({type:q}),t.push("/myPosts"))):t.push("/login")}),[d,p,l,t,O,x,C]),Object(n.useEffect)((function(){l(Ot(r))}),[r]),Object(n.useEffect)((function(){return function(){l({type:v}),l({type:z})}}),[]);return Object(qe.jsx)(qe.Fragment,{children:j||m||E||_?Object(qe.jsx)(Xe,{}):b||g||S||T?Object(qe.jsx)(ot,{variant:"danger",children:b||(g||(S||T))}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)(tt.a,{style:{height:"5rem",backgroundColor:"black"},className:"sticky-top",children:Object(qe.jsx)(rt.a,{children:Object(qe.jsx)("div",{className:"wrapper",children:Object(qe.jsx)(gt.a,{bg:"primary",expand:"lg",variant:"dark",children:Object(qe.jsxs)(yt.a,{children:[Object(qe.jsx)(_t.LinkContainer,{to:"/home",children:Object(qe.jsx)(gt.a.Brand,{children:Object(qe.jsxs)("h2",{children:["Poster ",Object(qe.jsx)("i",{class:"fas fa-paper-plane"})]})})}),Object(qe.jsxs)(vt.a,{className:"ml-auto",children:[Object(qe.jsx)(Et.a,{src:d.photo?d.photo:"/images/blank.png",roundedCircle:!0,style:{display:"inline-block",height:"25px",width:"25px",marginTop:"5px"}}),Object(qe.jsx)(St.a,{as:"h5",title:d.name,id:"basic-nav-dropdown",children:Object(qe.jsx)(_t.LinkContainer,{to:"/edit",children:Object(qe.jsx)(St.a.Item,{children:"Edit"})})}),Object(qe.jsx)(vt.a.Link,{as:"h5",onClick:function(){l(bt())},children:"Sign Out"})]})]})})})})}),Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(rt.a,{md:3,children:Object(qe.jsx)("div",{className:"sidebar-sticky",children:x&&x.following&&Object(qe.jsxs)("div",{className:"text-center",children:[Object(qe.jsx)(Et.a,{src:x.photo?x.photo:"/images/blank.png",roundedCircle:!0,className:"image-profile"}),Object(qe.jsxs)("h3",{className:"my-0",children:[x.name," ",x.lastName]}),Object(qe.jsxs)("p",{className:"lead grey-color mt-0",children:["@",x.userName]}),Object(qe.jsxs)("p",{className:"lead grey-color",children:[Object(qe.jsx)("i",{className:"far fa-calendar-alt"})," Joined"," ",Nt()(x.createdAt).format("MMMM YYYY")]}),Object(qe.jsxs)("p",{className:"lead",children:[Object(qe.jsx)("span",{children:x.following.length})," ",Object(qe.jsx)("span",{className:"grey-color pr-3",children:Object(qe.jsx)(Ze.Link,{className:"grey-color",children:"Following"})})," ",Object(qe.jsx)("span",{children:x.followers.length})," ",Object(qe.jsx)("span",{className:"grey-color",children:Object(qe.jsx)(Ze.Link,{className:"grey-color",children:"Followers"})})]}),Object(qe.jsxs)("p",{className:"lead",children:[x.postCount," ",Object(qe.jsx)("span",{className:"grey-color",children:"Total Posts"})]}),Object(qe.jsx)("button",{className:"post-btn",onClick:function(){l(function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:K}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.put("/api/user/follow/".concat(e),{},s);case 6:c=t.sent,o=c.data,r({type:Y,payload:o}),r({type:v}),r({type:z}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:Q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}(r))},children:d.following.includes(r)?"Following":"Follow"}),O.isAdmin&&Object(qe.jsx)("button",{className:"post-btn",onClick:function(){return I(!0)},children:"Deactivate"})]})})}),Object(qe.jsxs)(rt.a,{md:6,className:"posts-border p-0 mb-4",children:[Object(qe.jsx)("div",{style:{position:"sticky",top:"5rem",zIndex:"20",backgroundColor:"black"},children:Object(qe.jsx)("div",{style:{marginTop:"2rem",marginBottom:"1rem",marginLeft:"0.5rem",marginRight:"0.5rem"},children:Object(qe.jsx)(vt.a,{fill:!0,variant:"pills",className:"justify-content-center nav-border  pb-4",children:Object(qe.jsx)(vt.a.Item,{children:Object(qe.jsx)(vt.a.Link,{active:!0,children:Object(qe.jsx)("h5",{children:"Posts"})})})})})}),Object(qe.jsx)("div",{className:"bottom-wrapper",children:d.name&&f&&f.map((function(e){return Object(qe.jsx)(At,{postDetails:e,user:d},e._id)}))})]}),Object(qe.jsx)(rt.a,{md:3,children:Object(qe.jsxs)("div",{className:"sidebar-sticky ",children:[Object(qe.jsx)("div",{className:"mx-3 mt-5 text-center",children:Object(qe.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),""===o&&i("a"),t.push("/search/".concat(o))},children:[Object(qe.jsx)(at.a.Control,{type:"text",placeholder:"...Search Users",value:o,onChange:function(e){return i(e.target.value)}}),Object(qe.jsx)(st.a,{type:"submit",className:"btn btn-primary-block mt-4",children:"Search"})]})}),Object(qe.jsxs)("div",{style:{marginTop:"3rem"},children:[Object(qe.jsx)("h2",{className:"text-primary text-center mb-3",children:"Who To Follow"}),p&&d&&Object(qe.jsx)(kt.a,{className:"bg-dark text-white mx-2 my-0",children:p.map((function(e){return Object(qe.jsx)(It,{profileDetails:e,myProfileDetails:d},e._id)}))})]})]})})]}),Object(qe.jsxs)(xt.a,{show:L,onHide:R,children:[Object(qe.jsx)(xt.a.Header,{closeButton:!0,children:Object(qe.jsx)(xt.a.Title,{children:"Dactivate Account"})}),Object(qe.jsx)(xt.a.Body,{children:"Are You Sure ?"}),Object(qe.jsxs)(xt.a.Footer,{children:[Object(qe.jsx)("button",{className:"button",onClick:R,children:"Cancel"}),Object(qe.jsx)("button",{className:"button",onClick:function(){l(function(e){return function(){var t=Object(lt.a)(Object(it.a)().mark((function t(r,n){var a,s,c,o;return Object(it.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:W}),a=n().userLogin.user.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,jt.a.delete("/api/user/".concat(e),s);case 6:c=t.sent,o=c.data,r({type:J,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:V,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r))},children:"Ok"})]})]})]})})},Ht=function(){return Object(qe.jsx)(Ze.BrowserRouter,{children:Object(qe.jsxs)("main",{className:"body",children:[Object(qe.jsx)($e.d,{exact:!0,path:"/",component:Pt}),Object(qe.jsx)($e.d,{exact:!0,path:"/home",component:Pt}),Object(qe.jsx)($e.d,{exact:!0,path:"/myPosts",component:Dt}),Object(qe.jsx)($e.d,{exact:!0,path:"/liked",component:Ut}),Object(qe.jsx)($e.d,{exact:!0,path:"/bookmarks",component:Ft}),Object(qe.jsx)($e.d,{exact:!0,path:"/media",component:Mt}),Object(qe.jsx)($e.d,{exact:!0,path:"/register",component:ht}),Object(qe.jsx)($e.d,{exact:!0,path:"/login",component:mt}),Object(qe.jsx)($e.d,{exact:!0,path:"/edit",component:ft}),Object(qe.jsx)($e.d,{exact:!0,path:"/following",component:Bt}),Object(qe.jsx)($e.d,{exact:!0,path:"/followers",component:Gt}),Object(qe.jsx)($e.d,{exact:!0,path:"/search/:keyword",component:zt}),Object(qe.jsx)($e.d,{exact:!0,path:"/postDetails/:id",component:Yt}),Object(qe.jsx)($e.d,{exact:!0,path:"/userDetails/:id",component:Qt})]})})};r(142);s.a.render(Object(qe.jsx)(c.a,{store:Je,children:Object(qe.jsx)(Ht,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.7169ccd0.chunk.js.map